(function(e){function t(t){for(var r,c,i=t[0],s=t[1],u=t[2],l=0,f=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-1f2ca350":"167c6593","chunk-2d0afdfa":"69eb5751","chunk-2d0b35f0":"2b800db9","chunk-2d0b381b":"c37ca31f","chunk-2d0c22ac":"229a01d1","chunk-2d2268f5":"eeefbf1c"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=c(e);var u=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1eb1":function(e,t,n){},4160:function(e,t,n){"use strict";var r=n("64cf"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ddd",attrs:{id:"app"}},[n("router-view")],1)},a=[],c={},i=c,s=(n("70d7"),n("2877")),u=Object(s["a"])(i,o,a,!1,null,"23618e6c",null),l=u.exports,d=(n("b20f"),n("8c4f")),f=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("Headerbar",{staticClass:"header-contaniner"}),n("div",{staticClass:"main-container"},[n("Sidebar",{class:{"sidebar-container":!e.closeSidebar,"sidebar-container2":e.closeSidebar}}),n("AppMain",{staticClass:"appMain-contaniner"})],1)],1)}),p=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},b=[],m={},O=Object(s["a"])(m,h,b,!1,null,null,null),g=O.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.getPath,collapse:e.sideBarClose,"background-color":"#304156","text-color":"#bfcbd9"},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.getRoutes,(function(e,t){return n("sidebar-item",{key:t,attrs:{route:e,basurl:e.path}})})),1)],1)},y=[],j=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.route.hidden?e._e():n("div",[e.onlyOne()?n("el-menu-item",{attrs:{index:e.onlyChildren.path},on:{click:function(t){return e.routeLink(e.onlyChildren.path)}}},[n("i",{class:e.onlyChildren.meta.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.onlyChildren.meta.title))])]):n("el-submenu",{attrs:{index:e.route.path}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.route.meta.title))])]),e._l(e.route.children,(function(t,r){return n("sidebar-item",{key:r,attrs:{route:t,basurl:e.setPath(e.basurl,t.path)}})}))],2)],1)},P=[];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(j["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={name:"SidebarItem",props:["route","basurl"],data:function(){return{onlyChildren:""}},methods:{setPath:function(e,t){var n="/"===e?"":e;return n+"/"+t},onlyOne:function(){var e=this.route.children||[],t=e.filter((function(e){return!e.hidden}));if(t.length>1)return!1;if(1===t.length){var n="/"===this.basurl?"":this.basurl;return this.onlyChildren=E({},t[0],{path:n+"/"+t[0].path}),t[0].children?0===t[0].children.length&&!this.route.alwaysShow:!this.route.alwaysShow}return this.onlyChildren=E({},this.route,{path:this.basurl}),!this.route.alwaysShow},routeLink:function(e){this.$router.push(e)}}},C=S,x=Object(s["a"])(C,w,P,!1,null,null,null),_=x.exports,T=n("2f62");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(j["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={components:{sidebarItem:_},data:function(){return{isCollapse:!0}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}},computed:D({},Object(T["c"])(["getRoutes"]),{},Object(T["d"])(["sideBarClose"]),{getPath:function(){return this.$route.path}})},M=R,L=(n("945f"),Object(s["a"])(M,v,y,!1,null,"9cb2ae10",null)),A=L.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{staticClass:"header-img",attrs:{src:"https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png"}}),n("hamburger")],1)},I=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hamburger-box",on:{click:e.changeSideBarClose}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.sideBarClose,expression:"!sideBarClose"}],staticClass:"el-icon-s-fold icon"}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.sideBarClose,expression:"sideBarClose"}],staticClass:"el-icon-s-unfold icon"})])},H=[];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Object(j["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J={computed:q({},Object(T["d"])(["sideBarClose"])),methods:q({},Object(T["b"])(["changeSideBarClose"]))},K=J,Y=(n("4160"),Object(s["a"])(K,N,H,!1,null,"9a4ec08a",null)),z=Y.exports,F={components:{Hamburger:z}},G=F,Q=(n("7753"),Object(s["a"])(G,$,I,!1,null,"ab01ecc0",null)),V=Q.exports,W={name:"Layout",components:{AppMain:g,Sidebar:A,Headerbar:V},computed:{closeSidebar:function(){return this.$store.state.sideBarClose}}},X=W,Z=(n("61c9"),Object(s["a"])(X,f,p,!1,null,"6c1bc37e",null)),ee=Z.exports,te=[{path:"/",component:ee,redirect:"/admin",meta:{title:"root",icon:"el-icon-s-promotion",roles:["admin"]},children:[{path:"admin",component:function(){return n.e("chunk-2d0b381b").then(n.bind(null,"2953"))},meta:{title:"admin一级01",icon:"el-icon-s-promotion"}}]},{path:"/login",hidden:!0,component:function(){return n.e("chunk-1f2ca350").then(n.bind(null,"9ed6"))}},{path:"/404",hidden:!0,component:function(){return n.e("chunk-2d0b35f0").then(n.bind(null,"27a6"))}}],ne=[{path:"/roles",component:ee,redirect:"/roles/index",meta:{title:"roles",icon:"el-icon-lock",roles:["admin"]},children:[{path:"index",component:function(){return n.e("chunk-2d2268f5").then(n.bind(null,"e8d0"))},meta:{title:"roles",icon:"el-icon-lock",roles:["admin"]}}]},{path:"/word",component:ee,redirect:"/word/index",meta:{title:"word",icon:"el-icon-folder",roles:["edit"]},children:[{path:"index",component:function(){return n.e("chunk-2d0afdfa").then(n.bind(null,"0fd2"))},meta:{title:"word",icon:"el-icon-folder",roles:["edit"]}}]},{path:"/power",component:ee,redirect:"/power/index",meta:{title:"power",icon:"el-icon-view",roles:["admin"]},children:[{path:"index",component:function(){return n.e("chunk-2d0c22ac").then(n.bind(null,"48c5"))},meta:{title:"power",icon:"el-icon-view",roles:["admin"]}}]},{path:"*",redirect:"/404",hidden:!0}];r["default"].use(d["a"]);var re=new d["a"]({routes:te}),oe=re,ae=(n("caad"),n("96cf"),n("1da1")),ce=(n("b0c0"),n("2532"),n("bc3a")),ie=n.n(ce),se=n("5c96"),ue=n.n(se),le=ie.a.create({baseURL:"/prod-api",timeout:1e4});ie.a.interceptors.request.use((function(e){return e.headers["test"]="ceshi",e}),(function(e){return Promise.reject(e)})),le.interceptors.response.use((function(e){var t=e.data;return 200!==t.code?(Object(se["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||se["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}),Promise.reject(new Error(t.message||"Error"))):e.data}),(function(e){return Object(se["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var de=le;function fe(){return de({url:"login",method:"post"})}function pe(e){return de({url:"user-info",method:"post",params:{token:e}})}var he=n("a78e"),be=n.n(he),me="Admin-Token";function Oe(){return be.a.get(me)}function ge(e){return be.a.set(me,e)}var ve=function e(t,n){var r=[];return t.forEach((function(t){t.meta&&t.meta.roles&&t.meta.roles.length>0?n.some((function(e){return t.meta.roles.includes(e)}))&&(t.children&&(t.children=e(t.children,n)),r.push(t)):r.push(t)})),r},ye={getInfo:function(e){var t=e.commit,n=e.state;return new Promise((function(e,r){pe(n.token).then((function(n){n.data?(e(n.data),t("SET_NAME",n.data.name),t("SET_ROLES",n.data.roles)):r()}))}))},login:function(e){var t=e.commit;return new Promise((function(e,n){fe().then((function(r){ge(r.data.token),t("SET_TOKEN",r.data.token),r.data.token?e(r):n(r)}))}))},generateRoutes:function(e,t){return new Promise((function(n){var r=ve(ne,t);e.commit("SET_ROUTES",r),n(r)}))},changeSideBarClose:function(e){e.commit("SET_SIDEBARCLOSE")}},je=(n("99af"),{SET_TOKEN:function(e,t){e.token=t},SET_NAME:function(e,t){e.name=t},SET_ROLES:function(e,t){e.roles=t},SET_ROUTES:function(e,t){e.routes=te.concat(t)},SET_SIDEBARCLOSE:function(e){e.sideBarClose=!e.sideBarClose}}),we={getRoutes:function(e){return e.routes}},Pe={name:"",token:Oe(),roles:[],routes:[],sideBarClose:!1};r["default"].use(T["a"]);var ke=new T["a"].Store({state:Pe,mutations:je,actions:ye,getters:we}),Ee=ke;function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Object(j["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=["/login"];oe.beforeEach(function(){var e=Object(ae["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,a,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=Oe(),!o){e.next=21;break}if("/login"!==t.path){e.next=6;break}r("/admin"),e.next=19;break;case 6:if(!(Ee.state.roles&&Ee.state.roles.length>0)){e.next=10;break}r(),e.next=19;break;case 10:return e.next=12,Ee.dispatch("getInfo");case 12:return a=e.sent,c=a.roles,e.next=16,Ee.dispatch("generateRoutes",c);case 16:i=e.sent,oe.addRoutes(i),r(Ce({},t,{replace:!0}));case 19:e.next=22;break;case 21:xe.includes(t.path)?r():r("/login?redirect=".concat(t.path));case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());n("0fae");r["default"].use(ue.a),r["default"].config.productionTip=!1,new r["default"]({el:"#app",router:oe,template:"<App/>",store:Ee,components:{App:l}})},"61c9":function(e,t,n){"use strict";var r=n("e512"),o=n.n(r);o.a},"64cf":function(e,t,n){},"70d7":function(e,t,n){"use strict";var r=n("fda2"),o=n.n(r);o.a},7753:function(e,t,n){"use strict";var r=n("ef8f"),o=n.n(r);o.a},"945f":function(e,t,n){"use strict";var r=n("1eb1"),o=n.n(r);o.a},b20f:function(e,t,n){},e512:function(e,t,n){},ef8f:function(e,t,n){},fda2:function(e,t,n){}});
//# sourceMappingURL=app.5f764e02.js.map